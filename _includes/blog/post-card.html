{%- comment -%} Default Styles {%- endcomment -%}
{%- assign text_style  = 'text-themed' -%}
{%- assign badge_style = 'badge-dark' -%}

{%- comment -%} Update Styles (no borders anymore) {%- endcomment -%}
{%- if post.style == 'fill' -%}
  {%- assign card_style = post.color | prepend: 'bg-' -%}
  {%- if post.color != 'light' -%}
    {%- assign text_style  = 'text-white' -%}
    {%- assign badge_style = 'badge-light text-' | append: post.color -%}
  {%- endif -%}
{%- else -%}
  {%- assign card_style = '' -%}
{%- endif -%}

{%- comment -%} Determine Post URL {%- endcomment -%}
{%- if post.external_url -%}
  {%- assign post_url = post.external_url -%}
{%- else -%}
  {%- assign post_url = post.url | relative_url -%}
{%- endif -%}

<div class="col-lg-6 my-3 wow animated fadeIn" data-wow-delay=".15s">
  <a href="{{ post_url }}"
     {%- if post.external_url and site.open_new_tab -%} target="_blank" {%- endif -%}
     style="
       display:block;
       text-decoration:none;
       border-radius:1rem;
       overflow:hidden;
       background-color:#242526;
       box-shadow:0 4px 10px rgba(0,0,0,0.15);
       transition: transform 0.3s ease, box-shadow 0.3s ease;
     "
     onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 12px 24px rgba(0,0,0,0.15)';"
     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 10px rgba(0,0,0,0.08)';">

    {% if post.image %}
      <img src="{{ post.image | relative_url }}"
           alt="{{ post.title }}"
           style="
             width:100%;
             height:200px;
             object-fit:cover;
             display:block;
           ">
    {% endif %}

    <div class="card-body {{ text_style }}">
      <h3 class="card-title">{{ post.title }}</h3>
      
      <p class="card-text">
        {% for tag in post.tags %}
          <span class="badge {{ badge_style }}">{{ tag }}</span>
        {% endfor %}
      </p>

      <p class="card-text">
        {%- if post.description -%}
          {{ post.description }}
        {%- else -%}
          {{ post.content | truncatewords: 25, "<small><i> read more...</i></small>" }}
        {%- endif -%}
      </p>
    </div>

    <div class="card-footer {{ text_style }}">
      {{ post.date | date_to_long_string }}
    </div>

  </a>
</div>